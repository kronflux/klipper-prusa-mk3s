[gcode_macro M207]
description: Set firmware retraction settings (Marlin)
gcode:
    # M207 is not typically used in Klipper; retraction settings should be managed
    # through the slicer software. This macro is provided to prevent errors
    # from G-code generated for Marlin firmware.
    {% if 'S' in params %}
        {action_respond_info("Retraction length set to {params.S} mm (handled by slicer in Klipper).")}
    {% endif %}
    {% if 'F' in params %}
        {action_respond_info("Retraction speed set to {params.F} mm/min (handled by slicer in Klipper).")}
    {% endif %}
    {% if 'Z' in params %}
        {action_respond_info("Z-hop during retraction set to {params.Z} mm (handled by slicer in Klipper).")}
    {% endif %}
    {% if 'R' in params %}
        {action_respond_info("Retraction recovery set to {params.R} mm (handled by slicer in Klipper).")}
    {% endif %}
    {% if 'W' in params %}
        {action_respond_info("Firmware wipe set to {params.W} mm (handled by slicer in Klipper).")}
    {% endif %}
    {% if 'S' not in params and 'F' not in params and 'Z' not in params and 'R' not in params and 'W' not in params %}
        {action_respond_info("M207 command received without relevant parameters. No retraction settings applied.")}
    {% endif %}
