[gcode_macro M200]
description: Set filament diameter (Marlin)
gcode:
    # M200 is not typically used in Klipper; filament diameter should be managed
    # through the slicer settings. This macro is provided to prevent errors
    # from G-code generated for Marlin firmware.
    {% if 'D' in params %}
        {% set diameter = params.D|float %}
        {action_respond_info("Filament diameter set to " ~ diameter ~ " mm, but this is managed through the slicer in Klipper.")}
    {% else %}
        {action_respond_info("M200 command received without diameter parameter. Filament diameter should be set in the slicer.")}
    {% endif %}
